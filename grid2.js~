//it's temporarily 1D because of ids
var boxes = new Array();

function gridTable()
{
    var ret = "<svg id='calendar-graph' height='110' width='721'><g transform='translate(20, 20)'>";
    
    //excuse the noob id approach, I'll fix it to smt that makes more sense later, too tired XD
    //just wanted teh colors to appear
    var idNum = 0;
    for(var i = 0; i <= 650 ; i += 13)
    {
        ret += "<g transform='translate(" + i + ", 0)'>";
        
	for(var j = 0; j <= 78; j += 13)
        {
	    ret += "<rect id='" + idNum + "' onclick='color(" + idNum + ")' class='day' width='11' height='11' y='" + j + "' style='fill: rgb(238, 238, 238);'></rect>";
	    boxes[idNum] = 0;
	    idNum++;
	}
        ret+="</g>";
    }
    ret += "</g></svg>";
    return ret;
}

function createGrid()
{
    var obj = document.getElementById("gridBody");
    obj.innerHTML = gridTable();
}

function color(id)
{
    //here we'll access the 2D array - check the current colour, and update to the next colour
    var box = document.getElementById(id);
    switch (boxes[id])
    {
      case 0:
	box.style = "fill: rgb(214, 230, 133);";
	boxes[id]++;
	break;
      case 1:
	box.style = "fill: rgb(140, 198, 101);";
	boxes[id]++;
	break;
      case 2:
	box.style = "fill: rgb(68, 163, 64);";
	boxes[id]++;
	break;
      case 3:
	box.style = "fill: rgb(30, 104, 35);";
	boxes[id]++;
	break;
      case 4:
	box.style = "fill: rgb(238, 238, 238);";
	boxes[id] = 0;
	break;
    }
    console.log("called");

}